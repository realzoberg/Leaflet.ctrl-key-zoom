/* 
 * Leaflet Ctrl Key Zoom Plugin 0.1a
 * http://github.com/realzoberg/Leaflet.ctrl-key-zoom
 * Requires Leaflet 0.6.4 (other versions are possible, but not tested)
 * 
 * Copyright (c) 2013 Ruslan Login
 * The MIT License (MIT)
 * http://github.com/realzoberg/Leaflet.ctrl-key-zoom/blob/master/LICENSE
 */
if(typeof L!=="undefined"){initCtrlKeyZoomPlugin(L);}else{if(typeof define!=="undefined"){define(["lib/leaflet"],initCtrlKeyZoomPlugin);}else{throw Error("Leflet.ctrl-zoom-plugin wasn't able to find the Leaflet library");}}function initCtrlKeyZoomPlugin(a){function b(d){var c=[17,157,224,91,93,18];if(d.ctrlKey||d.metaKey||c.indexOf(d.keyCode)!==-1){return true;}return false;}a.Map.BoxZoom.prototype._onMouseDown=function(c){if(!b(c)||((c.which!==1)&&(c.button!==1))){return false;}a.DomUtil.disableTextSelection();a.DomUtil.disableImageDrag();this._startLayerPoint=this._map.mouseEventToLayerPoint(c);this._box=a.DomUtil.create("div","leaflet-zoom-box",this._pane);a.DomUtil.setPosition(this._box,this._startLayerPoint);this._container.style.cursor="crosshair";a.DomEvent.on(document,"mousemove",this._onMouseMove,this).on(document,"mouseup",this._onMouseUp,this).on(document,"keydown",this._onKeyDown,this);this._map.fire("boxzoomstart");};a.Control.Zoom.prototype._zoomIn=function(c){this._map.zoomIn(b(c)?3:1);};a.Control.Zoom.prototype._zoomOut=function(c){this._map.zoomOut(b(c)?3:1);};a.Draggable.prototype._onDown=function(d){if(b(d)||((d.which!==1)&&(d.button!==1)&&!d.touches)){return;}a.DomEvent.stopPropagation(d);if(a.Draggable._disabled){return;}a.DomUtil.disableImageDrag();a.DomUtil.disableTextSelection();var f=d.touches?d.touches[0]:d,c=f.target;if(a.Browser.touch&&c.tagName.toLowerCase()==="a"){a.DomUtil.addClass(c,"leaflet-active");}this._moved=false;if(this._moving){return;}this._startPoint=new a.Point(f.clientX,f.clientY);this._startPos=this._newPos=a.DomUtil.getPosition(this._element);a.DomEvent.on(document,a.Draggable.MOVE[d.type],this._onMove,this).on(document,a.Draggable.END[d.type],this._onUp,this);};}